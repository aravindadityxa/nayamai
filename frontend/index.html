<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAYAM AI - Your Health, Our Priority</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Intro Animation -->
    <div id="introAnimation" class="intro-animation">
        <div class="intro-content">
            <h1 class="intro-title">NAYAM AI</h1>
            <p class="intro-subtitle">Your Health, Our Priority</p>
            <div class="loading-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="mainContainer" class="main-container hidden">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="app-title">NAYAM AI</h1>
                <span class="app-subtitle">Medical Assistant</span>
            </div>
            <div class="header-right">
                <button id="themeToggle" class="icon-btn" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                </button>
                
                <div class="language-selector">
                    <button id="languageToggle" class="icon-btn" title="Select Language">
                        <i class="fas fa-globe"></i>
                    </button>
                    <div id="languageDropdown" class="language-dropdown hidden">
                        <div class="lang-option" data-lang="auto">Auto Detect</div>
                        <div class="lang-option" data-lang="en">English</div>
                        <div class="lang-option" data-lang="ta">தமிழ்</div>
                        <div class="lang-option" data-lang="hi">हिन्दी</div>
                        <div class="lang-option" data-lang="te">తెలుగు</div>
                        <div class="lang-option" data-lang="ml">മലയാളം</div>
                        <div class="lang-option" data-lang="kn">ಕನ್ನಡ</div>
                    </div>
                </div>

                <!-- User Menu -->
                <div id="userMenu" class="user-menu hidden">
                    <button id="userToggle" class="icon-btn" title="User Menu">
                        <i class="fas fa-user-circle"></i>
                    </button>
                    <div id="userDropdown" class="user-dropdown hidden">
                        <div class="user-info">
                            <strong id="userEmail"></strong>
                        </div>
                        <div class="dropdown-divider"></div>
                        <button id="chatHistoryBtn" class="dropdown-item">
                            <i class="fas fa-history"></i>Chat History
                        </button>
                        <button id="logoutBtn" class="dropdown-item">
                            <i class="fas fa-sign-out-alt"></i>Logout
                        </button>
                    </div>
                </div>

                <button id="loginBtn" class="btn-outline">Login</button>
            </div>
        </header>

        <!-- Chat Container -->
        <main class="chat-container">
            <div id="chatMessages" class="chat-messages">
                <!-- Messages will be inserted here -->
            </div>
            
            <!-- Typing Indicator -->
            <div id="typingIndicator" class="typing-indicator hidden">
                <div class="ai-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="typing-dots">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
        </main>

        <!-- Input Area -->
        <div class="input-container">
            <div class="input-wrapper">
                <button id="voiceBtn" class="icon-btn voice-btn" title="Voice Input">
                    <i class="fas fa-microphone"></i>
                </button>
                <input 
                    type="text" 
                    id="messageInput" 
                    placeholder="Type your health concern..." 
                    class="message-input"
                >
                <button id="sendBtn" class="send-btn" title="Send Message">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            <div class="action-buttons">
                <button id="nearbyBtn" class="btn-primary">
                    <i class="fas fa-hospital"></i>
                    Nearby Hospitals
                </button>
                <button id="clearBtn" class="btn-outline">
                    <i class="fas fa-trash"></i>
                    Clear Chat
                </button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Welcome to NAYAM AI</h2>
                <button id="closeModal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="login">Login</button>
                    <button class="tab-btn" data-tab="register">Register</button>
                </div>
                
                <form id="loginForm" class="auth-form">
                    <input type="email" placeholder="Email" required class="form-input" id="loginEmail">
                    <input type="password" placeholder="Password" required class="form-input" id="loginPassword">
                    <div class="form-footer">
                        <a href="#" id="forgotPasswordLink">Forgot Password?</a>
                    </div>
                    <select class="form-input" id="loginLanguage">
                        <option value="en">English</option>
                        <option value="ta">தமிழ்</option>
                        <option value="hi">हिन्दी</option>
                        <option value="te">తెలుగు</option>
                        <option value="ml">മലയാളം</option>
                        <option value="kn">ಕನ್ನಡ</option>
                    </select>
                    <button type="submit" class="btn-primary full-width">Login</button>
                </form>
                
                <form id="registerForm" class="auth-form hidden">
                    <input type="email" placeholder="Email" required class="form-input" id="registerEmail">
                    <input type="password" placeholder="Password" required class="form-input" id="registerPassword">
                    <select class="form-input" id="registerLanguage">
                        <option value="en">English</option>
                        <option value="ta">தமிழ்</option>
                        <option value="hi">हिन्दी</option>
                        <option value="te">తెలుగు</option>
                        <option value="ml">മലയാളം</option>
                        <option value="kn">ಕನ್ನಡ</option>
                    </select>
                    <button type="submit" class="btn-primary full-width">Register</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Reset Password</h2>
                <button id="closeForgotPasswordModal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="forgotPasswordForm" class="auth-form">
                    <input type="email" placeholder="Enter your email" required class="form-input" id="forgotPasswordEmail">
                    
                    <div id="securityQuestions" class="security-questions hidden">
                        <div class="security-question">
                            <label>What was your first pet's name?</label>
                            <input type="text" class="form-input" id="securityAnswer1" required>
                        </div>
                        <div class="security-question">
                            <label>What city were you born in?</label>
                            <input type="text" class="form-input" id="securityAnswer2" required>
                        </div>
                        
                        <div class="new-password-section">
                            <input type="password" placeholder="New Password" required class="form-input" id="newPassword">
                            <input type="password" placeholder="Confirm New Password" required class="form-input" id="confirmNewPassword">
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-primary full-width" id="forgotPasswordSubmit">
                        Send Reset Link
                    </button>
                    
                    <div class="form-footer">
                        <a href="#" id="backToLogin">Back to Login</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Chat History Modal -->
    <div id="chatHistoryModal" class="modal hidden">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>Chat History</h2>
                <button id="closeChatHistoryModal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="chat-history-controls">
                    <button id="clearHistoryBtn" class="btn-outline">
                        <i class="fas fa-trash"></i> Clear All History
                    </button>
                    <button id="exportHistoryBtn" class="btn-outline">
                        <i class="fas fa-download"></i> Export History
                    </button>
                </div>
                <div id="chatHistoryList" class="chat-history-list">
                    <!-- Chat history will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Map Modal -->
    <div id="mapModal" class="modal hidden">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>Nearby Hospitals</h2>
                <button id="closeMapModal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="map" class="map-container"></div>
                <div id="hospitalsList" class="hospitals-list"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>AI responses are for reference only. Consult a healthcare professional for medical advice.</p>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>